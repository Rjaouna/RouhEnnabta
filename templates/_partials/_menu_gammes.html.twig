<section class="bg-white gammes-section">
	<div class="container pt-3 pb-2">
		<nav
			class="gammes-nav fw-semibold" id="gammesNav"><!-- Gammes injectées via JS -->
		</nav>
	</div>
</section>


 <script>
document.addEventListener('DOMContentLoaded', () => {

	const nav = document.getElementById('gammesNav');
	if (!nav) return;

	const GAMME_URL_TEMPLATE = "{{ path('gamme_show', { id: 'ID_PLACEHOLDER' }) }}";

	fetch('/api/gammes')
		.then(res => res.json())
		.then(gammes => {

			if (!gammes.length) {
				nav.innerHTML = `
					<span class="text-muted small">Aucune gamme disponible</span>
				`;
				return;
			}

			nav.innerHTML = '';

			gammes.forEach(gamme => {
				const url = GAMME_URL_TEMPLATE.replace('ID_PLACEHOLDER', gamme.id);

				nav.insertAdjacentHTML('beforeend', `
					<a href="${url}" class="text-success text-decoration-none">
						${gamme.name}
					</a>
				`);
			});
		})
		.catch(() => {
			nav.innerHTML = `
				<span class="text-danger small">
					Erreur de chargement des gammes
				</span>
			`;
		});
});
</script>


<style>
	/* NAV GAMMES */
	.gammes-nav {
		display: flex;
		justify-content: space-between; /* ➜ prend toute la largeur */
		gap: 1rem;
		white-space: nowrap;

	}
	/* SECTION AVEC FAUX BORDER */
.gammes-section {
	position: relative;
}

/* Border-top dégradé */
.gammes-section::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 1px;

	background: linear-gradient(
		to right,
		transparent,
		rgba(0,0,0,0.15),
		transparent
	);
}


	/* LIENS */
	.gammes-nav a {
		flex-shrink: 0; /* empêche l’écrasement */
		transition: color 0.2s ease;
font-weight: 600;




	}

	.gammes-nav a:hover {
		color: #145c32;
		text-decoration: underline;
	}

	/* MOBILE : scroll horizontal */
	@media(max-width: 768px) {
		.gammes-nav {
			overflow-x: auto;
			justify-content: flex-start; /* ➜ scroll */
			padding-bottom: 0.25rem;
			-webkit-overflow-scrolling: touch;
		}

		.gammes-nav::-webkit-scrollbar {
			display: none; /* cache scrollbar */
		}
	}
	@media(max-width: 768px) {
		.gammes-nav {
			mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
		}
	}
</style>
