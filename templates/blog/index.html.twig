{% extends 'base.html.twig' %}

{% block title %}Blog
{% endblock %}

{% block body %}
<div class="container py-5">
	<div class="container text-center mb-5 position-relative" id="blog">

		<h1 class="fw-bold display-5">
			Notre
			<span class="text-secondary">blog</span>
			& actualités
		</h1>

		<p class="fs-5 text-muted mt-3 col-lg-7 mx-auto">
			Découvrez nos conseils, actualités et engagements autour
						de la qualité, du savoir-faire et de nos produits
						naturels.
		</p>

		<hr class="border-success border-3 opacity-100 mx-auto mt-4" style="width: 100px;">

	</div>



		{% if blogs is empty %}
			<p class="text-center text-muted">
				Aucun article disponible pour le moment.
			</p>
		{% else %}
			<div class="row g-4">
				{% for blog in blogs %}
					<div class="col-md-4">
						<article class="card h-100 shadow-sm border-0">

							{% if blog.image %}
								<img src="{{ asset('uploads/blogs/' ~ blog.image) }}" class="card-img-top" alt="{{ blog.name }}" style="height: 220px; object-fit: cover;">
							{% endif %}

							<div
								class="card-body d-flex flex-column">

								{# ✅ DATE #}
								<span class="text-muted small mb-2">
									<i class="bi bi-calendar3 me-1"></i>
									Publié le
									{{ blog.createdAt|date('d/m/Y') }}
								</span>

								<h5 class="card-title fw-semibold">
									{{ blog.name }}
								</h5>

								<p class="card-text text-muted mt-2">
									{{ blog.content|striptags|slice(0,120) }}…
								</p>

<a href="{{ path('blog_show', { id: blog.id }) }}" class="btn btn-outline-primary btn-sm mt-auto align-self-start">
	Lire la suite
	<i class="bi bi-arrow-right ms-1"></i>
</a>


							</div>

						</article>
					</div>
				{% endfor %}
			</div>
		{% endif %}

	</div>
{% endblock %}

